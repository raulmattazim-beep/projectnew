<!DOCTYPE html>
<html lang="pt-BR">
<head>


 
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Pergunta</title>
  <meta name="theme-color" content="#16a34a">
  <style>
    :root{--bg:#f6f7f9;--card:#ffffff;--ink:#0f172a;--muted:#64748b;--accent:#22c55e;--accentH:#16a34a;--shadow:0 12px 36px rgba(2,6,23,.10)}
    *{box-sizing:border-box} html,body{margin:0;height:100%}
    body{font-family:'Inter',system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--ink);display:flex;min-height:100vh}
    .wrap{margin:auto; width:min(92vw,640px)}
    .card{background:var(--card); border-radius:16px; box-shadow:var(--shadow); padding:24px}
    .progress{height:10px; background:#e2e8f0; border-radius:999px; overflow:hidden; margin-bottom:12px}
    .fill{height:100%; width:100%; background:linear-gradient(90deg, #86efac, #22c55e)}
    h2{margin:0 0 6px}
    p{margin:0 0 12px; color:var(--muted)}
    .opt{display:block; padding:14px; border:1.2px solid #e5e7eb; background:#f9fafb; border-radius:12px; margin:10px 0; cursor:pointer; transition:.12s}
    .opt:hover{background:#eef2ff; border-color:#c7d2fe}
    input{margin-right:10px}
    .cta{width:100%; margin-top:14px; padding:14px 16px; border:none; border-radius:12px; background:var(--accent); color:#fff; font-weight:800; cursor:pointer; transition:.2s}
    .cta:hover{background:var(--accentH); transform:translateY(-1px)}
    small{display:block;margin-top:8px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <form class="card" id="quiz" aria-labelledby="h">
      <div class="progress"><div class="fill"></div></div>
      <h2 id="h">Responda com sinceridade</h2>
      <p>Isso ajuda a identificar sinais e refletir sobre próximos passos saudáveis.</p>

      <strong style="display:block;margin:6px 0 8px">
        Já teve a sensação de que algo pode estar sendo escondido de você?
      </strong>

      <label class="opt"><input type="radio" name="q1" value="2"> Sim, com frequência</label>
      <label class="opt"><input type="radio" name="q1" value="1"> Às vezes fico em dúvida</label>
      <label class="opt"><input type="radio" name="q1" value="0"> Quase nunca, me sinto tranquilo(a)</label>

      <button class="cta" type="submit">Ver resultado</button>
     
    </form>
  </div>

<script>
  function getSavedUTMs() {
    try {
      return JSON.parse(localStorage.getItem('urlParams')) || {};
    } catch(e) {
      return {};
    }
  }

  function buildUrlWithUTM(base) {
    const saved = getSavedUTMs();
    const qs = new URLSearchParams(saved).toString();
    if (!qs) return base;
    return base + (base.includes('?') ? '&' : '?') + qs;
  }

  document.getElementById('quiz').addEventListener('submit', function(e){
    e.preventDefault();
    const sel = document.querySelector('input[name="q1"]:checked');
    if(!sel){ 
      alert("Selecione uma opção."); 
      return; 
    }
    localStorage.setItem('nivel', sel.value);

    // redireciona com UTMs forçadas
    location.href = buildUrlWithUTM('resultado.html');
  });
</script>


<script>
   // Função para armazenar ou atualizar os parâmetros da URL no localStorage
function storeUrlParams() {
    const urlParams = new URLSearchParams(window.location.search);
    const params = {};

    // Itera sobre os parâmetros da URL e os armazena em um objeto
    urlParams.forEach((value, key) => {
        params[key] = value;
    });

    // Obtém os parâmetros salvos previamente, se houver
    const savedParams = JSON.parse(localStorage.getItem('urlParams')) || {};

    // Atualiza os parâmetros salvos, priorizando os mais novos e não sobrescrevendo valores vazios
    for (const key in params) {
        if (params[key] && !savedParams[key]) {
            savedParams[key] = params[key];
        }
    }

    // Armazena os parâmetros atualizados no localStorage
    localStorage.setItem('urlParams', JSON.stringify(savedParams));
}

// Função para adicionar os parâmetros de URL a todas as tags <a> da página
function addParamsToLinks() {
    const savedParams = JSON.parse(localStorage.getItem('urlParams')) || {};

    // Converte o objeto de parâmetros em uma string de consulta
    const queryString = new URLSearchParams(savedParams).toString();

    // Encontra todas as tags <a> na página
    const links = document.querySelectorAll('a');

    links.forEach(link => {
        // Verifica se o link já possui parâmetros de URL
        const url = new URL(link.href);

        if (url.search) {
            // Se já houver parâmetros, os adiciona aos parâmetros existentes
            url.search += '&' + queryString;
        } else {
            // Caso contrário, apenas adiciona os parâmetros
            url.search = '?' + queryString;
        }

        // Atualiza o href da tag <a>
        link.href = url.toString();
    });
}

// Armazenar os parâmetros da URL quando a página carregar
storeUrlParams();

// Adicionar os parâmetros a todas as tags <a> quando a página estiver pronta
document.addEventListener('DOMContentLoaded', addParamsToLinks);
</script>

 
<script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>

  
</body>
</html>
